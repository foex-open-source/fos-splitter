

/*!
 Splitter - a jQuery UI based widget for dynamically dividing the available space for two sub regions horizontally or vertically.
 Copyright (c) 2010, 2017, Oracle and/or its affiliates. All rights reserved.
 */
!function(i,t,e){"use strict";var s=".a-Splitter-barH,.a-Splitter-barV",o="a-Splitter-thumb",n="."+o,r="is-disabled",a="title";i.widget("apex.splitter",{version:"5.0",widgetEventPrefix:"splitter",options:{orientation:"horizontal",positionedFrom:"begin",minSize:60,position:100,noCollapse:!1,dragCollapse:!0,collapsed:!1,snap:!1,inc:10,realTime:!1,iframeFix:!1,restoreText:null,collapseText:null,title:null,change:null,lazyRender:!1,needsResize:!1,visibilityCheckDelay:300,immediateVisibilityCheck:!1},lastPos:null,bar$:null,before$:null,after$:null,horiz:!0,fromEnd:!1,barSize:1,_create:function(){var t=this,e=t.options,s=t.element,o=s[0];e.lazyRender?(apex.widget.util.onVisibilityChange(o,(function(i){e.isVisible=i,i&&!e.rendered&&(t._initComponent(),e.rendered=!0),i&&e.needsResize&&(t._resize(),e.needsResize=!1)})),i(window).on("apexreadyend",(function(){var i=s[0];setTimeout((function(){apex.widget.util.visibilityChange(i,!0)}),e.visibilityCheckDelay||1e3)})),e.immediateVisibilityCheck&&apex.widget.util.visibilityChange(o,!0)):t._initComponent()},_initComponent:function(){var s,o,r,a,l,h,d=this,p=this.options,c=this.element,f=t.htmlBuilder(),b=i.ui.keyCode,u=!!p.snap&&[1*p.snap,1*p.snap],m=p.noCollapse?0:1,z=null;if(2!==c.children().length)throw new Error("Splitter must have exactly two children.");if("horizontal"!==p.orientation&&"vertical"!==p.orientation)throw new Error("Orientation bad value");if("begin"!==p.positionedFrom&&"end"!==p.positionedFrom)throw new Error("PositionedFrom bad value");if(p.minSize<m&&(p.minSize=m,e.warn("Option minSize adjusted")),this.horiz="horizontal"===p.orientation,this.fromEnd="end"===p.positionedFrom,h=this.horiz?"left":"top",this.before$=c.children().eq(0),this.after$=c.children().eq(1),c.addClass("a-Splitter resize"),"rtl"===c.css("direction")&&(c.addClass("u-RTL"),this.horiz&&(this.before$=c.children().eq(1),this.after$=c.children().eq(0),this.fromEnd=!this.fromEnd)),c.parent(".a-Splitter").length>0||this.before$.is(".a-Splitter")||this.after$.is(".a-Splitter"))throw new Error("Child of splitter cannot be a splitter");this.before$[0].id||(this.before$[0].id=(c[0].id||"splitter")+"_first"),this.after$[0].id||(this.after$[0].id=(c[0].id||"splitter")+"_second"),p.position<p.minSize&&(p.position=p.minSize),this.lastPos=p.position,p.snap&&(p.inc=p.snap),this._renderBar(f),this.bar$=i(f.toString()).insertAfter(c.children().eq(0)),this.horiz?this.barSize=this.bar$.width():this.barSize=this.bar$.height(),c.css({position:"relative"}).children().css({position:"absolute"}),this.horiz?(s=this.bar$.position()[h],o=0,r="e-resize",this.fromEnd?(a=b.LEFT,l=b.RIGHT):(a=b.RIGHT,l=b.LEFT)):(s=0,o=this.bar$.position()[h],r="s-resize",this.fromEnd?(a=b.UP,l=b.DOWN):(a=b.DOWN,l=b.UP)),this.bar$.css({left:s,top:o}).draggable({axis:d.horiz?"x":"y",containment:"parent",cancel:"button",cursor:r,iframeFix:p.iframeFix,grid:u,scroll:!1,drag:function(i,t){var e;p.realTime&&(e=t.position[h],d.fromEnd&&(e=(d.horiz?c.width():c.height())-e-d.barSize),d._setPos(e,!1))},start:function(i,t){d.bar$.addClass("is-active")},stop:function(i,t){var e=t.position[h];d.bar$.removeClass("is-active"),d.fromEnd&&(e=(d.horiz?c.width():c.height())-e-d.barSize),d._setPos(e,!1)}}).click((function(){i(this).find(n).focus()})).find("button").click((function(){d._setPos(d._getPos(),!d._isCollapsed())})),apex.widget.util.TouchProxy.addTouchListeners(this.bar$[0]),this.bar$.find(n).focus((function(){i(this).parent().addClass("is-focused is-active")})).blur((function(){i(this).parent().removeClass("is-focused is-active")})).keydown((function(i){var t,e,s=i.keyCode,o=null,n=!1;if(s!==l||p.collapsed?s===a&&((o=d._getPos())<0?(p.noCollapse||(n=!0),o=0):o+=p.inc,t=d._getMaxPos(),o>t&&(o=t)):(o=d._getPos(),(o-=p.inc)<p.minSize&&p.noCollapse&&(o=p.minSize),o<0&&(o=0)),null!==o)return e=o,d.fromEnd&&(e=(d.horiz?c.width():c.height())-e-d.barSize),d.bar$.css(h,e),z&&(clearTimeout(z),z=null),z=setTimeout((function(){z=null,d._setPos(o,n)}),100),!1})),this._on(!0,this._eventHandlers),p.disabled&&this._setOption("disabled",p.disabled),this.refresh()},_resize:function(e){var
s,o,n,r,a=this.options,l=this.element;e&&e.target!==l[0]||(s=l.height(),o=l.width(),0!==s&&0!==o?(r=l.offset(),this.horiz?(l.children().each((function(){t.setOuterHeight(i(this),s)})),this.fromEnd?(n=[r.left+a.minSize,r.top,r.left+o-this.barSize,r.top+s],a.dragCollapse&&!a.noCollapse||(n[2]-=a.minSize)):(n=[r.left,r.top,r.left+o-this.barSize-a.minSize,r.top+s],a.dragCollapse&&!a.noCollapse||(n[0]+=a.minSize+1))):(l.children().each((function(){t.setOuterWidth(i(this),o)})),this.fromEnd?(n=[r.left,r.top+a.minSize,r.left+o,r.top+s-this.barSize],a.dragCollapse&&!a.noCollapse||(n[3]-=a.minSize)):(n=[r.left,r.top,r.left+o,r.top+s-this.barSize-a.minSize],a.dragCollapse&&!a.noCollapse||(n[1]+=a.minSize+1))),this._setPos(a.position,a.collapsed),this.bar$.draggable("option","containment",n),l.children(".resize").filter(":visible").trigger("resize"),e&&e.stopPropagation()):a.needsResize=!0)},_destroy:function(){this.element.removeClass("a-Splitter "+r+" u-RTL resize").children(s).remove(),this.element.children().css("position","")},refresh:function(){this.element.is(":visible")&&this.element.trigger("resize")},_setOption:function(t,s){var o,l,h;if(!this.options.noCollapse||"collapsed"!==t&&"restoreText"!==t&&"collapseText"!==t){if("orientation"===t||"positionedFrom"===t||"noCollapse"===t)throw new Error("Readonly option: "+t);"position"===t?this._setPos(1*s,this._isCollapsed()):"collapsed"===t?this._setPos(this._getPos(),!!s):"snap"===t?(s=!!s&&1*s,this.options.snap=s,o=!!s&&[s,s],this.bar$.draggable("option","grid",o),s&&(this.options.inc=s)):"inc"===t?(s*=1,this.options.snap&&(s=this.options.snap),this.options.inc=s):"disabled"===t?(this.options.disabled=s,h=this.bar$.find(n),this.options.noCollapse?s?h.removeAttr("tabindex"):h.attr("tabindex","0"):(h[0].disabled=s,s?h.attr(a,this.options.title):h.attr(a,this.options.collapsed?this.options.restoreText:this.options.collapseText)),this.bar$.draggable("option","disabled",s),s?(this.element.addClass(r),this.bar$.addClass(r),h.attr("aria-disabled",!0)):(h.removeAttr("aria-disabled"),this.bar$.removeClass(r),this.element.removeClass(r))):"minSize"===t?(s<(l=this.options.noCollapse?0:1)&&(s=l,e.warn("Option minSize adjusted")),this.options.minSize=s):i.Widget.prototype._setOption.apply(this,arguments),"title"===t?(this.bar$.attr(a,s),(this.options.noCollapse||this.options.disabled)&&this.bar$.find(n).attr(a,s)):"restoreText"===t&&this.options.collapsed&&!this.options.disabled?this.bar$.find("button").attr(a,s):"collapseText"!==t||this.options.collapsed||this.options.disabled?"iframeFix"===t?this.bar$.draggable("option","iframeFix",s):"dragCollapse"===t&&this.refresh():this.bar$.find("button").attr(a,s)}else e.warn("Setting "+t+" option on noCollapse splitter has no effect.")},_eventHandlers:{resize:function(i){this._resize(i)}},_renderBar:function(i){var t=this.options,e=this.horiz?"a-Splitter-barH":"a-Splitter-barV";this.fromEnd&&(e+=" a-Splitter--end"),t.noCollapse&&(t.collapsed=!1),t.collapsed&&(e+=" is-collapsed"),i.markup("<div").attr("class",e).optionalAttr(a,t.title).markup("><div></div>"),t.noCollapse?i.markup("<span role='separator' class='"+o+"' tabindex='0' aria-expanded='true'").optionalAttr(a,t.title).markup("></span>"):i.markup("<button role='separator' class='"+o+"' type='button'").attr("aria-expanded",!t.collapsed).optionalAttr(a,t.collapsed?t.restoreText:t.collapseText).markup("></button>"),i.markup("</div>")},_getPos:function(){var i=this.element,t=this.horiz?"left":"top",e=this.bar$.position()[t];return this.fromEnd&&(e=(this.horiz?i.width():i.height())-e-this.barSize),e},_isCollapsed:function(){return this.bar$.hasClass("is-collapsed")},_getMaxPos:function(){var i=this.options,t=this.element;return this.horiz?t.width()-this.barSize-i.minSize:t.height()-this.barSize-i.minSize},_setPos:function(i,e){var
s,o,r,l,h,d,p=this.options,c=this.element,f=this.horiz?"left":"top",b=this._isCollapsed(),u=this.lastPos;p.noCollapse&&(e=!1),b&&!e&&(i=this.lastPos)<p.minSize&&(i=p.minSize),i<p.minSize?p.noCollapse?i=p.minSize:e=!0:i>(s=this._getMaxPos())&&(i=s),p.noCollapse&&i<=0&&(i=0),i>0&&(this.lastPos=i),e&&(i=0,p.position=0),o=this.horiz?c.width():c.height(),h=i,this.fromEnd&&(h=o-i-this.barSize),this.bar$.css(f,h),d=this.bar$.find(n),this.fromEnd?(r=this.after$,l=o-h-this.barSize):(r=this.before$,l=h),e?(this.bar$.addClass("is-collapsed"),p.disabled||d.attr("aria-expanded",!1).attr(a,p.restoreText),r.hide()):(p.noCollapse?r.toggle(0!==i):(this.bar$.removeClass("is-collapsed"),p.noCollapse||p.disabled||d.attr("aria-expanded",!0).attr(a,p.collapseText),r.show()),this.horiz?t.setOuterWidth(r,l):t.setOuterHeight(r,l)),this.fromEnd?(r=this.before$,l=h):(r=this.after$,l=o-h-this.barSize),this.horiz?t.setOuterWidth(r,l):t.setOuterHeight(r,l),p.noCollapse&&r.toggle(0!==l),this.after$.css(f,h+this.barSize+"px"),this.before$.css(f,0),(!e&&i!==u||b!==e)&&(p.collapsed=e,p.position=i,c.children(".resize").filter(":visible").trigger("resize"),this._trigger("change",{},{position:p.position,collapsed:p.collapsed,lastPosition:this.lastPos}))}});var l=0,h=0;i.apex.splitter.nextSplitter=function(t){var e,o,r,a=t?-1:1,d=i(document.activeElement);if(!(l>0||h>0))return(r=(o=i(".a-Splitter >.a-Splitter-barH,.a-Splitter >.a-Splitter-barV").filter(":visible").not(".ui-state-disabled").add(d)).index(d))>=0&&(r+=a,t&&d.parent().is(s)&&(r+=a),r>=0&&r<o.length&&(e=o.eq(r))),(e&&0===e.length&&!d.parent().is(s)||d.is("html,body"))&&(e=i(".a-Splitter >.a-Splitter-barH,.a-Splitter >.a-Splitter-barV").filter(":visible").not(".ui-state-disabled")[t?"last":"first"]()),e&&e.length>0?(e.children(n).focus(),!0):void 0},i((function(){i(document.body).on("menubeforeopen",(function(){h+=1})).on("menuafterclose",(function(){h-=1})).on("dialogopen",(function(){l+=1})).on("dialogclose",(function(){l-=1}))})),apex.message&&apex.message.addVisibilityCheck((function(t){var e=i("#"+t);e.parents(".a-Splitter").each((function(){e.is(":visible")||i(this).splitter("option","collapsed",!1)}))}))}(apex.jQuery,apex.util,apex.debug);
//# sourceMappingURL=widget.splitter.js.map



